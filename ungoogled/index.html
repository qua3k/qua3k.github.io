<!doctype html><html lang=en-us prefix="og: https://ogp.me/ns#"><meta charset=utf-8><meta name=color-scheme content="light dark"><meta name=viewport content="initial-scale=1,minimum-scale=1,width=device-width"><meta name=description content="A review of ungoogled-chromium patches"><title>ungoogled-chromium</title><meta property="og:type" content="article"><meta property="og:title" content="ungoogled-chromium"><meta property="article:published_time" content="2021-05-29T00:00:00+00:00"><meta property="article:modified_time" content="2021-05-29T00:00:00+00:00"><meta property="article:section" content="blog"><meta property="og:image" content="https://qua3k.github.io/ogp.png"><meta property="og:image:alt" content="a gravatar identicon"><meta property="og:site_name" content="segmentation fault"><meta property="og:url" content="https://qua3k.github.io/ungoogled/"><link href=/css/main.min.css rel=stylesheet><link href=/css/highlight.min.css rel=stylesheet><link rel=icon href=/favicon.ico><link rel=apple-touch-icon sizes=180x180 href=/favicon.svg><link rel=mask-icon color=#dd8c79 href=/mask-icon.svg><header><a href=/>segmentation fault</a></header><main><span class=site-metadata><time datetime=2021-05-29>29 May 2021</time></span><h1 class=title>ungoogled-chromium</h1><p class=description>A review of ungoogled-chromium patches</p><p>The <a href=https://github.com/Eloston/ungoogled-chromium>ungoogled-chromium</a> project
is an often recommended browser to people seeking a private Chromium-based
browser. However, many people are unaware that their patches often regress the
privacy/security rather than improve it.</p><h2 id=toolchain-hardening>Toolchain Hardening</h2><p>ungoogled-chromium produces some automatic builds through GitHub Actions, as
well as delegating third parties to produce &ldquo;contributor binaries&rdquo;. Disregarding
the problems with entrusting third parties for builds, all of the builds weaken
the security of the existing mitigations in some form.</p><p><a href=https://github.com/ungoogled-software/ungoogled-chromium-debian/blob/unified/debian/rules#L59>Debian</a>
fares much worseâ€”it omits building the browser with Clang&rsquo;s
fine-grained, forwards-edge CFI implementation, rendering users vulnerable to
control-flow hijacking. In addition, it uses
<a href=https://github.com/google/tcmalloc>tcmalloc</a> as the memory allocator, a
performance-oriented allocator without defenses against heap corruption. In
contrast, the default choice (PartitionAlloc) is substantially hardened against
memory corruption and features type-based heap isolation for objects in Blink,
as well as size-based bucketing within the partitions. The build is a
substantial security regression over upstream and shouldn&rsquo;t be recommended to
anyone in good faith.</p><ul><li>It&rsquo;s worth noting that upstream is
<a href=https://crrev.com/c/3372825>removing tcmalloc</a>, which is good for users of
the Debian build, although users would be much safer not using the Debian
build at all.</li></ul><p>Fedora packaging of ungoogled-chromium was historically terrible; it used an
<a href=https://github.com/ungoogled-software/ungoogled-chromium-fedora/tree/8300097092afacf6d21d155524c5dc0695a0e43a>unsupported toolchain (gcc)</a>
without support for Clang&rsquo;s Control-Flow Integrity, although they have rectified
this as of
<a href=https://github.com/ungoogled-software/ungoogled-chromium-fedora/commit/8054d652e66add0c46540296c08d4a593e049063>November 10, 2021</a>.</p><p>In addition, all distros supported by ungoogled-chromium link against system
libraries, which historically aren&rsquo;t compiled with Clang CFI, rendering CFI much
less effective.</p><h2 id=security-updates>Security Updates</h2><p>The component updater, responsible for delivering out-of-band security updates
to the various components of the browser, is disabled within ungoogled-chromium.
It&rsquo;s responsible for updating Chrome&rsquo;s CRLSets, which are necessary for
meaningful certificate revocation. Most of the components are delivered via the
component updater because they have a need for out-of-band security updates, and
it&rsquo;s not helpful nor necessary to disable them.</p><p>Furthermore, the extensions that users rely on aren&rsquo;t updated automatically,
posing an additional risk to users of the browser.</p><h2 id=webrtc>WebRTC</h2><p>A sad thing to note is that ungoogled-chromium chooses to build without mDNS
support, meaning that instead of providing randomized/ephemeral ICE candidates,
the browser provides the user&rsquo;s local IP address. Chrome switched to using mDNS
for WebRTC in August 2019; ungoogled-chromium has disabled mDNS since 2017, as
part of the chrome.mdns API. They have yet to recify this; instead, they are
adopting patches to change the IP handling policy by default, which really
doesn&rsquo;t address the problem in case a user decides to change it from the default
when he&rsquo;s on a network without NAT loopback.</p><h2 id=an-alternative>An Alternative?</h2><p>Most people should be using Chrome. If one is looking for privacy, disable the
telemetry toggles within <code>chrome://settings</code>. Removing every mention of Google
from the codebase is distinct from legitimate privacy/security improvements and
it&rsquo;s evident that the patches cause regressions in security, not improvements.</p></main>